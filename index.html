<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/41bcea2ae3.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="estilo.css">
    <title>Inicio</title>
    
</head>
<body>
    <header> 
        <h1 >Monitorizacion de datos Aero</h1>
    
  
        <div class="container__menu">
            <div class="menu">
                <i class="fas fa-bars" id="btn_menu"></i>
                <div id="back_menu"></div>
                <nav id="nav">
                    <ul>
                        <li><a href="#" id="selected">Inicio</a></li>
                        <li><a href="../historicos">Historicos</a></li>
                    </ul>
                </nav>
            </div>
        </div>

    </header>
    <script>
        document.getElementById("btn_menu").addEventListener("click", mostrar_menu);

document.getElementById("back_menu").addEventListener("click", ocultar_menu);

nav = document.getElementById("nav");
background_menu = document.getElementById("back_menu");

function mostrar_menu(){

    nav.style.right = "0px";
    background_menu.style.display = "block";
}

function ocultar_menu(){

    nav.style.right = "-250px";
    background_menu.style.display = "none";
}


    </script>
    <div class="modoa">
<div>
  <h1 class="tamaño">Modo de operacion nuevo </h1>
    <canvas id="myChart"  width="20" height="5"></canvas>
  </div>
  <script>
     fetch('/envio')
    .then(response => response.json())
    .then(json => {
      var mode = json.Modo;
      const labels = [
      'January',
      'January',
    ];
      const data = {
      labels: labels,
      datasets: [{
        label: 'Sistema nuevo',
        backgroundColor: 'rgb(255, 99, 132)',
        borderColor: 'rgb(255, 99, 132)',
        data: [mode],
            }]
          };
          
    const config = {
      type: 'line',
      data: data,
      options: { }
    };
    const myChart = new Chart(
      document.getElementById('myChart'),
      config
    );
      console.log(mode)
  });

  </script>

</div>

<div>
    <div>
      <h1 class="tamaño">Modo de operacion antiguo</h1>
        <canvas id="myChart1"  width="20" height="5"></canvas>
      </div>
      <script>
        
         fetch('/envio')
    .then(response => response.json())
    .then(json => {
      var bat = json.Bateria;
        const labels1 = [
          
        ];
      
        const data1 = {
          labels: labels1,
          datasets: [{
            label: 'Sistema antiguo',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [bat],
          }]
        };
      
        const config1 = {
          type: 'line',
          data: data1,
          options: { }
        };
        const myChart1 = new Chart(
          document.getElementById('myChart1'),
          config1
        );
    });
      </script>
    </div>

    <div>
        <div>
          <h1 class="tamaño">Estado de la Bateria</h1>
            <canvas id="myChart2"  width="20" height="5"></canvas>
          </div>
          <script>
             fetch('/envio')
              .then(response => response.json())
              .then(json => {
              var bat = json.Bateria;
              const labels2 = [
              'January',
              'January1',
            ];
          
            const data2 = {
              labels: labels2,
              datasets: [{
                label: 'Bateria',
                backgroundColor: 'rgb(255, 99, 132)',
                borderColor: 'rgb(255, 99, 132)',
                data: [bat],
              }]
            };
          
            const config2 = {
              type: 'line',
              data: data2,
              options: { }
            };
        
            const myChart2 = new Chart(
              document.getElementById('myChart2'),
              config2
            );
          });
          </script>
        </div>

        <div>
            <div>
              <h1 class="tamaño">Estado del voltaje con respecto al viento</h1>
                <canvas id="myChart3"  width="20" height="5"></canvas>
              </div>
              <script>
                 fetch('/envio')
                  .then(response => response.json())
                  .then(json => {
                  var wind = json.Viento;
                const labels3 = [
                  'January',
                  'January1',
                ];
              
                const data3 = {
                  labels: labels3,
                  datasets: [{
                    label: 'viento',
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [wind],
                  }]
                };
              
                const config3 = {
                  type: 'line',
                  data: data3,
                  options: { }
                };
              
                const myChart3 = new Chart(
                  document.getElementById('myChart3'),
                  config3
                );
              });
              </script>
            </div>
    <script>
      function actual() {
         fecha=new Date(); //Actualizar fecha.
         hora=fecha.getHours(); //hora actual
         minuto=fecha.getMinutes(); //minuto actual
         segundo=fecha.getSeconds(); //segundo actual
         if (hora<10) { //dos cifras para la hora
            hora="0"+hora;
            }
         if (minuto<10) { //dos cifras para el minuto
            minuto="0"+minuto;
            }
         if (segundo<10) { //dos cifras para el segundo
            segundo="0"+segundo;
            }
         //ver en el recuadro del reloj:
         mireloj = hora+" : "+minuto+" : "+segundo;	
				 return mireloj; 
         }
function actualizar() { //función del temporizador
   mihora=actual(); //recoger hora actual
   console.log(mihora)
	 }
setInterval(actualizar,1000); 
    </script>
      
</body>
</html>